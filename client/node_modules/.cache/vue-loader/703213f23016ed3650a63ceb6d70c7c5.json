{"remainingRequest":"/home/david/YouTube_Full-Stack/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/david/YouTube_Full-Stack/client/src/views/Home.vue?vue&type=style&index=0&id=fae5bece&scoped=true&lang=css&","dependencies":[{"path":"/home/david/YouTube_Full-Stack/client/src/views/Home.vue","mtime":1551548969106},{"path":"/home/david/YouTube_Full-Stack/client/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/david/YouTube_Full-Stack/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/david/YouTube_Full-Stack/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/david/YouTube_Full-Stack/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/YouTube_Full-Stack/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ndiv.search {\n  margin-bottom: 60px;\n  font-size: 14px;\n}\n\ndiv.search .search1 {\n  float:left; \n  margin-right:50px;\n}\n\ndiv.search .search2 {\n  float:left; \n}\n\n.v--modal-overlay {\n  background-color: rgba(255, 0, 0, .1);\n}\n\n.btn{\n  display: inline-block;\n  border: none;\n  background: rgb(197, 197, 197);\n  color: #fff;\n  padding: 2px 5px;\n  cursor: pointer;\n}\n\n.btn:hover{\n  background: rgb(155, 155, 155);\n}\n\n\ndiv.container {\n  max-width: 100%;\n  margin: 0 ;\n  padding: 20px;\n  background-color:#f0f0f0;\n}\n\np.error {\n  border: 1px solid #ff5b5f;\n  background-color: #aaa5ee;\n  padding: 10px;\n  margin-bottom: 15px;\n}\n\ndiv.post {\n  position: relative;\n  border: 1px solid #5bd658;\n  padding: 0px 10px 0px 10px;\n  margin-bottom: 15px;\n}\n\n\np.text {\n  font-size: 14px;\n  font-weight: 400;\n}\n\ndiv.blueTable {\nwidth: 100%;\ntext-align: left;\nborder-bottom: 1px solid rgb(226, 226, 226);\n}\n\n.divTable.blueTable .divTableCell, .divTable.blueTable .divTableHead {\n  padding: 3px 3px;\n  border-bottom: 1px solid rgb(226, 226, 226);\n}\n.divTable.blueTable .divTableBody .divTableCell {\n  font-size: 13px;\n  background: #ffffff;\n}\n.divTable.blueTable .divTableRow:nth-child(even) {\n  /*background: #D0E4F5;*/\n}\n\n.divTable.blueTable .divTableHeading {\n  background: #ffffff;\n  /*\n  background: -moz-linear-gradient(top, #949494 0%, #7e7e7e 66%, #707070 100%);\n  background: -webkit-linear-gradient(top, #949494 0%, #7e7e7e 66%, #707070 100%);\n  background: linear-gradient(to bottom, #949494 0%, #7e7e7e 66%, #707070 100%);\n  border-bottom: 2px solid #444444;\n  */\n}\n\n.divTable.blueTable .divTableHeading .divTableHead {\n  font-size: 15px;\n  /*font-weight: bold;*/\n  color: rgb(0, 0, 0);\n  /*border-left: 2px solid rgb(212, 212, 212);*/\n}\n\n.divTable.blueTable .divTableHeading .divTableHead:first-child {\n  /*border-left: none;*/\n}\n\n.blueTable .tableFootStyle {\n  /*\n  font-size: 14px;\n  font-weight: bold;\n  color: #FFFFFF;\n  background: #D0E4F5;\n  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);\n  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);\n  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);\n  border-top: 2px solid #444444;\n  */\n}\n.blueTable .tableFootStyle {\n  font-size: 14px;\n}\n.blueTable .tableFootStyle .links {\n  text-align: right;\n}\n.blueTable .tableFootStyle .links a{\n  display: inline-block;\n  background: #1C6EA4;\n  color: #FFFFFF;\n  padding: 2px 8px;\n  border-radius: 5px;\n}\n.blueTable.outerTableFooter {\n  border-top: none;\n}\n.blueTable.outerTableFooter .tableFootStyle {\n  padding: 3px 5px; \n}\n\n/* DivTable.com */\n.divTable{ display: table; }\n.divTableRow { display: table-row; }\n.divTableCell, .divTableHead { display: table-cell;}\n.divTableHeading { display: table-header-group;}\n.divTableFoot { display: table-footer-group;}\n.divTableBody { display: table-row-group;}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 3s;\n}\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0OA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <v-dialog/>\r\n    <h1>List of Customers</h1>    \r\n      \r\n    \r\n    <div class=\"search\">     \r\n      <div class=\"search1\">\r\n        <p class=\"error\" v-if=\"error\">{{ error }}</p>\r\n        <label>Already Customer</label> <input class=\"checkbox\" type=\"checkbox\" id=\"checkbox\" v-on:change=\"Paramsschange\" v-model=\"AlreadyCustomer\"> | \r\n        <label>Activ Customer</label> <input class=\"checkbox\" type=\"checkbox\" id=\"checkbox\" v-on:change=\"Paramsschange\" v-model=\"ActivCustomer\">\r\n      </div>\r\n      <div class=\"search2\">\r\n        <label>Select Event Years: </label>\r\n        <span style=\"margin-right:10px;\"\r\n          v-for=\"(Year, index) in YearsArray\"\r\n          v-bind:item=\"Year\"\r\n          v-bind:index=\"index\"\r\n          v-bind:key=\"Year\"\r\n        >\r\n        <span class=\"checkbox\">  {{Year}} </span> <input type=\"checkbox\" v-on:change=\"Paramsschange\" :value=\"Year\" v-model=\"YearChoosed\">  </span>\r\n      </div>\r\n    </div>\r\n    \r\n\r\n    <div class=\"posts-container\">\r\n      <div class=\"divTable blueTable\">\r\n        <div class=\"divTableHeading\">\r\n          <div class=\"divTableRow\">\r\n            <div class=\"divTableHead\"></div>\r\n            <div class=\"divTableHead\"></div>\r\n            <div class=\"divTableHead\"></div>\r\n            <div class=\"divTableHead\">ID</div>\r\n            <div class=\"divTableHead\">Event Date</div>\r\n            <div class=\"divTableHead\">Location</div>\r\n            <div class=\"divTableHead\">Contact Person 1</div>\r\n            <div class=\"divTableHead\">Contact Person 2</div>\r\n            <div class=\"divTableHead\">Contact Date</div>\r\n            <div class=\"divTableHead\">Contract Date</div>\r\n            <div class=\"divTableHead\">Hours</div>\r\n            <div class=\"divTableHead\">Total Price</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"divTableBody post\"\r\n          v-for=\"(post, index) in posts\"\r\n          v-bind:item=\"post\"\r\n          v-bind:index=\"index\"\r\n          v-bind:key=\"post._id\"\r\n          v-on:dblclick=\"viewPost(post._id)\"\r\n        >\r\n          \r\n          <div class=\"divTableRow\"> \r\n            <div class=\"divTableCell\"><button class=\"btn\" v-on:click=\"show(post._id, post.ownID)\">Delete</button></div>         \r\n            <div class=\"divTableCell\"><button class=\"btn\" v-on:click=\"$router.push('Edit?id=' + post._id)\">Edit</button></div>  \r\n            <div class=\"divTableCell\"><button class=\"btn\" v-on:click=\"$router.push('insertinfo?id=' + post._id)\">Message</button></div>        \r\n            <div class=\"divTableCell\">{{ post.ownID }}</div>\r\n            <div class=\"divTableCell\" v-if=\"moment(post.EventInfo.DateEvent, moment.ISO_8601, true).isValid()\">{{ moment(post.EventInfo.DateEvent).format('DD.MM.YYYY') }}</div>\r\n            <div class=\"divTableCell\" v-else>{{ post.EventInfo.DateEvent }}</div>\r\n            <div class=\"divTableCell\">{{ post.EventInfo.EventLocation}}</div>\r\n            <div class=\"divTableCell\">{{ post.Client1Info.Client1Name + ' ' +  post.Client1Info.Client1Surname}}</div>\r\n            <div class=\"divTableCell\">{{ post.Client2Info.Client2Name + ' ' +  post.Client2Info.Client2Surname}}</div>\r\n            <div class=\"divTableCell\" v-if=\"moment(post.DateContact, moment.ISO_8601, true).isValid()\">{{ moment(post.DateContact).format('DD.MM.YYYY') }}</div>\r\n            <div class=\"divTableCell\" v-else>{{ post.DateContact }}</div>\r\n            <div class=\"divTableCell\" v-if=\"moment(post.ContractInfo.ContractDate, moment.ISO_8601, true).isValid()\">{{ moment(post.ContractInfo.ContractDate).format('DD.MM.YYYY') }}</div>\r\n            <div class=\"divTableCell\" v-else>{{ post.ContractInfo.ContractDate }}</div>\r\n            <div class=\"divTableCell\">{{ post.ContractInfo.NumberHours}}</div>\r\n            <div class=\"divTableCell\">{{ post.ContractInfo.TotalPrice}}€</div>\r\n          </div>\r\n        </div>  \r\n      </div>      \r\n    </div>  \r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport PostService from '../PostService'\r\nimport moment from 'moment'\r\n\r\n\r\nexport default {\r\n  name: 'Home',\r\n  /*\r\n  template: `\r\n  \t<div>\r\n  \t\t<div>Execute only once '{{name}}', Not initialized again？？？</div>\r\n    \t<div>Current route '{{$route.params.name}}'</div>\r\n    </div>`,\r\n    */\r\n  data() {\r\n    return {\r\n      AlreadyCustomer: false,\r\n      ActivCustomer: false,\r\n      moment:moment,\r\n      name: this.$route.params.home,\r\n      posts: {\r\n        0: {\r\n          EventInfo:{\r\n          },\r\n          Client1Info: {\r\n          },\r\n          Client2Info: {\r\n          },\r\n          ContractInfo: {\r\n          }\r\n        }\r\n      },\r\n      posttoview: '',\r\n      error: '',\r\n      ownID: '',\r\n      //bridename: '',\r\n      text: '',\r\n      YearsArray: [],\r\n      //YearChoosed: [new Date().getFullYear()]\r\n      YearChoosed: []\r\n    }\r\n  },\r\n  async created() {\r\n    //this.id = this.$route.query.id;\r\n    try {\r\n      this.posts = await PostService.getPosts(false, this.ActivCustomer, this.AlreadyCustomer, this.year);\r\n      //this. ActivCustomer = true;\r\n      this.Paramsschange();      \r\n\r\n      this.posts.sort(this.compare);\r\n      \r\n      let i;\r\n      let ii = 0;\r\n      for (i = 0; i < this.posts.length; i++) {\r\n        //text += cars[i] + \"<br>\";     \r\n        this.years = this.posts[i].EventInfo.DateEvent.substring(0,4);\r\n        //console.log(this.years);\r\n        if(!this.YearsArray.includes(this.years)){\r\n          this.YearsArray[ii] = this.years;\r\n          ii++;\r\n        }\r\n      }\r\n      this.YearsArray.sort();\r\n\r\n    } catch(err) {\r\n      this.error = err.message;\r\n    }\r\n\r\n  }\r\n  /*,\r\n  async mounted() {\r\n     try {\r\n      this.posts = await PostService.getPosts();\r\n    } catch(err) {\r\n      this.error = err.message;\r\n    }\r\n  }*/,\r\n  \r\n  methods: {\r\n\r\n    compare(a, b) {\r\n      // Use toUpperCase() to ignore character casing\r\n      const DateContactA = a.DateContact.toUpperCase();\r\n      const DateContactB = b.DateContact.toUpperCase();\r\n\r\n      let comparison = 0;\r\n      if (DateContactA > DateContactB) {\r\n        comparison = 1;\r\n      } else if (DateContactA < DateContactB) {\r\n        comparison = -1;\r\n      }\r\n      return comparison * -1 ;\r\n    },\r\n    /*\r\n    async EditPost(id) {\r\n      this.$router.push(`Edit?id=${id}`);\r\n      \r\n    },\r\n    */\r\n\r\n    async deletePost(id){\r\n      await PostService.deletePost(id, '');\r\n      this.posts = await PostService.getPosts();\r\n      //this.$router.push('\\/');\r\n    },\r\n\r\n    viewPost(id){      \r\n      this.$router.push(`ViewCostumer?id=${id}`);\r\n    },\r\n\r\n    show (id = '', ownID = '') {\r\n      //this.$modal.show('hello-world');\r\n      \r\n      this.$modal.show('dialog', {\r\n        title: 'Delete Entry ' + ownID,\r\n        text: 'Are you sure you want to delete customer and all its messages???',\r\n        buttons: [\r\n          {\r\n            title: 'Delete',\r\n            //handler: () => { alert('Woot!') }\r\n            handler: () => { \r\n                this.deletePost(id); \r\n                this.hide(); }\r\n          },\r\n          {\r\n            title: '',       // Button title\r\n            default: true,    // Will be triggered by default if 'Enter' pressed.\r\n            handler: () => { this.hide(); } // Button click handler\r\n          },\r\n          {\r\n            title: 'Close'\r\n          }\r\n      ]\r\n      })\r\n      \r\n    },\r\n\r\n    hide () {\r\n      this.$modal.hide('dialog');\r\n    },\r\n\r\n    async Paramsschange() {\r\n      try {\r\n        //console.log('this.AlreadyCustomer: ',this.AlreadyCustomer);\r\n        this.posts = await PostService.getPosts(false, this.ActivCustomer, this.AlreadyCustomer, this.YearChoosed);\r\n        this.posts.sort(this.compare);\r\n        //console.log(this.posts);\r\n      } catch(err) {\r\n        this.error = err.message;\r\n      }\r\n    } \r\n\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  div.search {\r\n    margin-bottom: 60px;\r\n    font-size: 14px;\r\n  }\r\n\r\n  div.search .search1 {\r\n    float:left; \r\n    margin-right:50px;\r\n  }\r\n\r\n  div.search .search2 {\r\n    float:left; \r\n  }\r\n\r\n  .v--modal-overlay {\r\n    background-color: rgba(255, 0, 0, .1);\r\n  }\r\n\r\n  .btn{\r\n    display: inline-block;\r\n    border: none;\r\n    background: rgb(197, 197, 197);\r\n    color: #fff;\r\n    padding: 2px 5px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .btn:hover{\r\n    background: rgb(155, 155, 155);\r\n  }\r\n\r\n\r\n  div.container {\r\n    max-width: 100%;\r\n    margin: 0 ;\r\n    padding: 20px;\r\n    background-color:#f0f0f0;\r\n  }\r\n\r\n  p.error {\r\n    border: 1px solid #ff5b5f;\r\n    background-color: #aaa5ee;\r\n    padding: 10px;\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n  div.post {\r\n    position: relative;\r\n    border: 1px solid #5bd658;\r\n    padding: 0px 10px 0px 10px;\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n\r\n  p.text {\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n  }\r\n\r\n  div.blueTable {\r\n  width: 100%;\r\n  text-align: left;\r\n  border-bottom: 1px solid rgb(226, 226, 226);\r\n  }\r\n\r\n  .divTable.blueTable .divTableCell, .divTable.blueTable .divTableHead {\r\n    padding: 3px 3px;\r\n    border-bottom: 1px solid rgb(226, 226, 226);\r\n  }\r\n  .divTable.blueTable .divTableBody .divTableCell {\r\n    font-size: 13px;\r\n    background: #ffffff;\r\n  }\r\n  .divTable.blueTable .divTableRow:nth-child(even) {\r\n    /*background: #D0E4F5;*/\r\n  }\r\n\r\n  .divTable.blueTable .divTableHeading {\r\n    background: #ffffff;\r\n    /*\r\n    background: -moz-linear-gradient(top, #949494 0%, #7e7e7e 66%, #707070 100%);\r\n    background: -webkit-linear-gradient(top, #949494 0%, #7e7e7e 66%, #707070 100%);\r\n    background: linear-gradient(to bottom, #949494 0%, #7e7e7e 66%, #707070 100%);\r\n    border-bottom: 2px solid #444444;\r\n    */\r\n  }\r\n\r\n  .divTable.blueTable .divTableHeading .divTableHead {\r\n    font-size: 15px;\r\n    /*font-weight: bold;*/\r\n    color: rgb(0, 0, 0);\r\n    /*border-left: 2px solid rgb(212, 212, 212);*/\r\n  }\r\n\r\n  .divTable.blueTable .divTableHeading .divTableHead:first-child {\r\n    /*border-left: none;*/\r\n  }\r\n\r\n  .blueTable .tableFootStyle {\r\n    /*\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color: #FFFFFF;\r\n    background: #D0E4F5;\r\n    background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);\r\n    background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);\r\n    background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);\r\n    border-top: 2px solid #444444;\r\n    */\r\n  }\r\n  .blueTable .tableFootStyle {\r\n    font-size: 14px;\r\n  }\r\n  .blueTable .tableFootStyle .links {\r\n    text-align: right;\r\n  }\r\n  .blueTable .tableFootStyle .links a{\r\n    display: inline-block;\r\n    background: #1C6EA4;\r\n    color: #FFFFFF;\r\n    padding: 2px 8px;\r\n    border-radius: 5px;\r\n  }\r\n  .blueTable.outerTableFooter {\r\n    border-top: none;\r\n  }\r\n  .blueTable.outerTableFooter .tableFootStyle {\r\n    padding: 3px 5px; \r\n  }\r\n\r\n  /* DivTable.com */\r\n  .divTable{ display: table; }\r\n  .divTableRow { display: table-row; }\r\n  .divTableCell, .divTableHead { display: table-cell;}\r\n  .divTableHeading { display: table-header-group;}\r\n  .divTableFoot { display: table-footer-group;}\r\n  .divTableBody { display: table-row-group;}\r\n\r\n  .fade-enter-active, .fade-leave-active {\r\n    transition: opacity 3s;\r\n  }\r\n  .fade-enter, .fade-leave-to {\r\n    opacity: 0;\r\n  }\r\n\r\n</style>\r\n"]}]}