{"remainingRequest":"/home/david/YouTube_Full-Stack/client/node_modules/babel-loader/lib/index.js!/home/david/YouTube_Full-Stack/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/david/YouTube_Full-Stack/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/david/YouTube_Full-Stack/client/src/views/Edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/david/YouTube_Full-Stack/client/src/views/Edit.vue","mtime":1551962378939},{"path":"/home/david/YouTube_Full-Stack/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/YouTube_Full-Stack/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/david/YouTube_Full-Stack/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/YouTube_Full-Stack/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/david/YouTube_Full-Stack/client/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport PostService from '../PostService';\nimport DatePicker from 'vue2-datepicker';\nexport default {\n  name: 'New',\n  components: {\n    DatePicker: DatePicker //Home\n\n  },\n  data: function data() {\n    return {\n      contractVisible: false,\n      posts: {\n        0: {\n          DateContact: new Date(),\n          //ActivCustomer: true,\n          EventInfo: {},\n          Client1Info: {},\n          Client2Info: {},\n          ContractInfo: {}\n        }\n      },\n      posts2: [],\n      error: '',\n      id: \"\",\n      lang: 'en'\n    };\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (this.$route.query.id) {\n                this.id = this.$route.query.id;\n              } else {} //this.$router.push(`/`);\n              //console.log('id', this.id);\n\n\n              if (!this.id) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.prev = 2;\n              _context.next = 5;\n              return PostService.getPosts(this.id);\n\n            case 5:\n              this.posts = _context.sent;\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](2);\n              this.error = _context.t0.message;\n\n            case 11:\n              //console.log('Activ1?:', this.posts[0].ActivCustomer);\n              if (typeof this.posts[0].ActivCustomer === 'undefined' || this.posts[0].ActivCustomer === null) this.posts[0].ActivCustomer = true;\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[2, 8]]);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  methods: {\n    ValidatePost: function ValidatePost() {\n      var _this = this;\n\n      this.$validator.validate().then(function (result) {\n        if (!result) {\n          console.log('No validado'); // do stuff if not valid.\n        } else {\n          console.log('Validado');\n\n          if (_this.$route.query.id) {\n            //this.id = this.$route.query.id;\n            //console.log('Yes ID');\n            _this.updatePost();\n          } else {\n            //this.$router.push(`/`);\n            //console.log('No ID');\n            _this.createPost();\n          }\n        }\n      });\n      /*\r\n      if(this.$route.query.id){\r\n        //this.id = this.$route.query.id;\r\n        //console.log('Yes ID');\r\n        this.updatePost();        \r\n      } else {\r\n        //this.$router.push(`/`);\r\n        //console.log('No ID');\r\n        this.createPost();        \r\n      } \r\n      */\n    },\n    updatePost: function () {\n      var _updatePost = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                //this.id = this.$route.query.id;\n                //console.log('this.posts', this.posts);\n                this.posts[0].id = this.$route.query.id;\n                _context2.next = 3;\n                return PostService.updatePost(this.posts, '');\n\n              case 3:\n                this.$router.push(\"ViewCostumer?id=\".concat(this.id)); //this.posts = await PostService.getPosts();\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function updatePost() {\n        return _updatePost.apply(this, arguments);\n      }\n\n      return updatePost;\n    }(),\n    createPost: function () {\n      var _createPost = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                //console.log(\"11111111\");\n                //console.log(\"this.posts: \", this.posts);\n                data = '';\n                _context3.next = 3;\n                return PostService.insertPost('', this.posts);\n\n              case 3:\n                data = _context3.sent;\n                //console.log('Data de return: ', data);\n                this.$router.push(\"ViewCostumer?id=\".concat(data));\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function createPost() {\n        return _createPost.apply(this, arguments);\n      }\n\n      return createPost;\n    }()\n  }\n};",{"version":3,"sources":["Edit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n  <div class=\"container\">\r\n    <h1 v-if=\"id\">Edit Information</h1>\r\n    <h1 v-else>New Client</h1>\r\n    <div class=\"create-post\">   \r\n\r\n      <label>Own ID *</label><br>\r\n      <input name=\"OwnID\" v-validate.continues=\"'required|min:10'\" type=\"text\" v-model=\"posts[0].ownID\" placeholder=\"Introduce you Own costumer Identification \"><br>\r\n        <div class=\"invalid-feedback\">{{ errors.first(\"OwnID\") }}</div>\r\n      <div>\r\n\r\n        <div style=\"float:left;\">\r\n          <div class=\"box-title\">\r\n            Client\r\n          </div>\r\n          <div class=\"box\">\r\n            <div>\r\n              <strong>Client Name *</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"Client1Name\" v-validate.continues=\"'required|min:2'\" type=\"text\" v-model=\"posts[0].Client1Info.Client1Name\" placeholder=\"Name\">\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Client Surname</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"Client1Surname\" v-validate=\"'min:2'\" type=\"text\" v-model=\"posts[0].Client1Info.Client1Surname\" placeholder=\"Surname\">\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Client Telephon Number *</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"Client1Tel\" v-validate.continues=\"'required|min:2'\" type=\"text\" v-model=\"posts[0].Client1Info.Client1Tel\" placeholder=\"Telefon Number\">\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Client Email *</strong>\r\n              <div class=\"box03\">\r\n                <input v-validate.continues=\"'required|email'\" type=\"email\" name=\"Client1Email\" v-model=\"posts[0].Client1Info.Client1Email\" placeholder=\"Email\">\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Adress2</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"Address\" v-validate=\"'min:5'\" type=\"text\" v-model=\"posts[0].Address\" placeholder=\"Address\"><br><br>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div> \r\n\r\n        <div style=\"float:left;\">\r\n          <div class=\"box-title\">\r\n            Client 2\r\n          </div>\r\n          <div class=\"box\">\r\n            <div>\r\n              <strong>Client 2 Name</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"Client2Name\" v-validate=\"'min:2'\" type=\"text\" v-model=\"posts[0].Client2Info.Client2Name\" placeholder=\"Name\">\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Client 2 Surname</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"Client2Surname\" v-validate=\"'min:2'\" type=\"text\" v-model=\"posts[0].Client2Info.Client2Surname\" placeholder=\"Surname\">\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Client 2 Telephon Number</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"Client2Tel\" v-validate=\"'min:2'\" type=\"text\" v-model=\"posts[0].Client2Info.Client2Tel\" placeholder=\"Telefon Number\">\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Client 2 Email</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"Client2Email\" v-validate=\"'email'\" type=\"text\" v-model=\"posts[0].Client2Info.Client2Email\" placeholder=\"Email\"> \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div> \r\n\r\n        <div style=\"float:left;\">\r\n          <div class=\"box-title\">\r\n            Event Information\r\n          </div>\r\n          <div class=\"box\">\r\n            <div>\r\n              <strong>Contact Date *</strong>\r\n              <div class=\"box03\" >\r\n                <date-picker name=\"DateContact\" v-validate=\"'required'\" v-model=\"posts[0].DateContact\" confirm:true type='datetime' value-type='date'\r\n                 :first-day-of-week=\"1\" :lang=\"lang\" placeholder=\"Introduce the contact Date\"></date-picker><br>\r\n                 <span>{{ errors.first('DateContact') }}<br><br><br></span>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"errors.first('DateContact')\" style=\"margin-bottom:40px;\"></div> \r\n            <div>\r\n              <strong>Event Date *</strong>\r\n              <div class=\"box03\">\r\n                <date-picker name=\"DateEvent\" v-validate=\"'required'\" v-model=\"posts[0].EventInfo.DateEvent\" type='datetime' value-type='date' \r\n                :first-day-of-week=\"1\" :lang=\"lang\" placeholder=\"Introduce the contact Date\"></date-picker><br>\r\n                  <span>{{ errors.first('DateEvent') }}</span>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"errors.first('DateEvent')\" style=\"margin-bottom:40px;\"></div>\r\n            <div>\r\n              <strong>Event Location</strong>\r\n              <div class=\"box03\"><input name=\"EventLocation\" v-validate.continues=\"'required|min:2'\" type=\"text\" v-model=\"posts[0].EventInfo.EventLocation\" placeholder=\"Event Location\"> </div>\r\n            </div>\r\n          </div>          \r\n        </div> \r\n\r\n        <div style=\"float:left;\">\r\n          <div class=\"box-title\">\r\n            Client Status\r\n          </div>\r\n          <div class=\"box\">\r\n            <div>\r\n              <strong>Actualy Activ</strong>\r\n              <div class=\"box03\">\r\n                Yes<input class=\"radio\" type=\"radio\" name=\"ActivCustomer\" v-model=\"posts[0].ActivCustomer\" v-bind:value=true checked> \r\n                Not<input class=\"radio\" type=\"radio\" name=\"ActivCustomer\" v-model=\"posts[0].ActivCustomer\" v-bind:value=false>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Already Customer</strong>\r\n              <div class=\"box03\">\r\n                <input class=\"checkbox\" type=\"checkbox\" id=\"checkbox\" v-model=\"posts[0].AlreadyCustomer\"> \r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Source</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"Source\" v-validate=\"'min:2'\" type=\"text\" v-model=\"posts[0].Source\" placeholder=\"Introduce the source\">\r\n              </div>\r\n            </div>\r\n\r\n          </div>          \r\n        </div> \r\n\r\n      </div>\r\n\r\n\r\n      <div style=\"clear:both;\"></div>\r\n\r\n      \r\n      <div id=\"app\" >        \r\n        <div class=\"barbtn\" v-on:click=\"contractVisible = !contractVisible\">\r\n          <span v-if=\"contractVisible || posts[0].AlreadyCustomer\">- View Contract fields?</span>\r\n          <span v-else>+ View Contract fields?</span>            \r\n        </div>\r\n        <transition name=\"fade\">\r\n        <div v-if=\"contractVisible || posts[0].AlreadyCustomer\" >\r\n\r\n        <div style=\"float:left;\">\r\n          <div class=\"box-title\">\r\n            Event Information\r\n          </div>\r\n          <div class=\"box\">\r\n            <div>\r\n              <strong>Already Customer</strong>\r\n              <div class=\"box03\">\r\n                <input class=\"checkbox\" type=\"checkbox\" id=\"checkbox\" v-model=\"posts[0].AlreadyCustomer\"> \r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Contract Date</strong>\r\n              <div class=\"box03\">\r\n                <date-picker v-model=\"posts[0].ContractInfo.ContractDate\" type='datetime' value-type='date' :first-day-of-week=\"1\" :lang=\"lang\" placeholder=\"Introduce the contact Date\"></date-picker>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Event Date</strong>\r\n              <div class=\"box03\">\r\n                <date-picker v-model=\"posts[0].EventInfo.DateEvent\" type='datetime' value-type='date' :first-day-of-week=\"1\" :lang=\"lang\" placeholder=\"Introduce the contact Date\"></date-picker>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Event Location</strong>\r\n              <div class=\"box03\"><input name=\"EventLocation\" v-validate=\"'min:2'\" type=\"text\" v-model=\"posts[0].EventInfo.EventLocation\" placeholder=\"Event Location\"> </div>\r\n            </div>\r\n          </div>          \r\n        </div> \r\n\r\n        <div style=\"float:left;\">\r\n          <div class=\"box-title\">\r\n            Contracted Services\r\n          </div>\r\n          <div class=\"box\">\r\n            <div>\r\n              <strong>Ordered Services</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"OrderedServices\" v-validate=\"'min:2'\" type=\"text\" v-model=\"posts[0].ContractInfo.OrderedServices\" placeholder=\"Orderer Services\">\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Ordered Products</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"OrderedProducts\" v-validates=\"'min:2'\" type=\"text\" v-model=\"posts[0].ContractInfo.OrderedProducts\" placeholder=\"Ordered Products\">\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Number of Hours</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"NumberHours\" v-validate=\"'min:2'\" type=\"text\" v-model=\"posts[0].ContractInfo.NumberHours\" placeholder=\"Number of Hours\"><br>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Permision to public Fotos</strong>\r\n              <div class=\"box03\">\r\n               <input class=\"checkbox\" type=\"checkbox\" id=\"checkbox\" v-model=\"posts[0].ContractInfo.PermisionPublic\">\r\n              </div>\r\n            </div>\r\n          </div>          \r\n        </div> \r\n\r\n        <div style=\"float:left;\">\r\n          <div class=\"box-title\">\r\n            Payment information\r\n          </div>\r\n          <div class=\"box\">\r\n            <div>\r\n              <strong>Total Price</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"TotalPrice\" v-validate=\"'min:2'\" type=\"text\" v-model=\"posts[0].ContractInfo.TotalPrice\" placeholder=\"Total Price\">\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Deposit to Pay</strong>\r\n              <div class=\"box03\">\r\n                <input name=\"DepositToPay\" v-validate=\"'min:2'\" type=\"text\" v-model=\"posts[0].ContractInfo.DepositToPay\" placeholder=\"Deposit to Pay\">\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <strong>Deposit already Payed?</strong>\r\n              <div class=\"box03\">\r\n                <input class=\"checkbox\" type=\"checkbox\" id=\"checkbox\" v-model=\"posts[0].ContractInfo.DepositPayed\">\r\n              </div>\r\n            </div>\r\n\r\n          </div>          \r\n        </div> \r\n\r\n\r\n\r\n        </div>\r\n        </transition>\r\n\r\n\r\n        <div style=\"clear:both;\">\r\n\r\n          <div class=\"box-title\">\r\n            Comment\r\n          </div>\r\n\r\n          <div>\r\n            <div class=\"box-comment\">\r\n              <div class=\"box02\">\r\n                <textarea name=\"comment\" form=\"usrform\"  v-model=\"posts[0].Comments\" placeholder=\"Here some coments\">Enter text here...</textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n      </div>\r\n\r\n      <div style=\"clear:both;\"></div>\r\n\r\n      <button style=\"margin:30px 0 50px 0;\" class=\"btn\" v-on:click=\"ValidatePost\">Post!</button>\r\n    </div>\r\n  \r\n    <p class=\"error\" v-if=\"error\">{{ error }}</p>\r\n\r\n  </div>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport PostService from '../PostService'\r\nimport DatePicker from 'vue2-datepicker'\r\n\r\nexport default {\r\n  name: 'New',\r\n  components: { \r\n    DatePicker\r\n    //Home\r\n  },\r\n  data() {\r\n    return {\r\n      contractVisible: false,\r\n      \r\n      posts: {\r\n        0: {\r\n          DateContact: new Date(),\r\n          //ActivCustomer: true,\r\n          EventInfo:{\r\n          },\r\n          Client1Info: {\r\n          },\r\n          Client2Info: {\r\n          },\r\n          ContractInfo: {\r\n          }\r\n        }\r\n      },\r\n      posts2: [],\r\n      error: '',\r\n      id:\"\",\r\n      lang: 'en'\r\n\r\n\r\n    }\r\n  },\r\n  async created() {    \r\n    if(this.$route.query.id){\r\n      this.id = this.$route.query.id;\r\n    } else {\r\n      //this.$router.push(`/`);\r\n    }    \r\n\r\n    //console.log('id', this.id);\r\n\r\n    if(this.id){\r\n      try {\r\n        this.posts = await PostService.getPosts(this.id);\r\n      } catch(err) {\r\n        this.error = err.message;\r\n      }      \r\n      \r\n      \r\n    }\r\n    //console.log('Activ1?:', this.posts[0].ActivCustomer);\r\n    if(typeof this.posts[0].ActivCustomer === 'undefined' || this.posts[0].ActivCustomer === null) this.posts[0].ActivCustomer = true;\r\n\r\n\r\n    \r\n    \r\n    \r\n  },\r\n  methods: {\r\n    ValidatePost() {\r\n      this.$validator.validate().then(result => {\r\n        if (!result) {\r\n          console.log('No validado');\r\n          // do stuff if not valid.\r\n        } else {\r\n          console.log('Validado');\r\n          if(this.$route.query.id){\r\n            //this.id = this.$route.query.id;\r\n            //console.log('Yes ID');\r\n            this.updatePost();        \r\n          } else {\r\n            //this.$router.push(`/`);\r\n            //console.log('No ID');\r\n            this.createPost();        \r\n          } \r\n        }\r\n      });\r\n      /*\r\n      if(this.$route.query.id){\r\n        //this.id = this.$route.query.id;\r\n        //console.log('Yes ID');\r\n        this.updatePost();        \r\n      } else {\r\n        //this.$router.push(`/`);\r\n        //console.log('No ID');\r\n        this.createPost();        \r\n      } \r\n      */     \r\n    },\r\n\r\n    async updatePost() {\r\n        //this.id = this.$route.query.id;\r\n        //console.log('this.posts', this.posts);\r\n        this.posts[0].id = this.$route.query.id;\r\n        \r\n        await PostService.updatePost( this.posts, '' );\r\n        this.$router.push(`ViewCostumer?id=${this.id}`);\r\n      //this.posts = await PostService.getPosts();\r\n    },\r\n\r\n    async createPost() {\r\n      //console.log(\"11111111\");\r\n      //console.log(\"this.posts: \", this.posts);\r\n      let data = '';\r\n      data = await PostService.insertPost(\r\n        '',\r\n        this.posts\r\n        );\r\n        //console.log('Data de return: ', data);\r\n        this.$router.push(`ViewCostumer?id=${data}`);\r\n\r\n    }\r\n\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.fade-enter-active, .fade-leave-active {\r\n  transition: opacity 1s;\r\n}\r\n.fade-enter, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n div.create-post {\r\n   text-align: left;\r\n   /*max-width: 900px;*/\r\n   margin-left: auto;\r\n   margin-right: auto;   \r\n }\r\n\r\n  div.create-post input{\r\n  /*div.create-post {*/\r\n    /*float: left;*/\r\n    width: 95%;\r\n    /*height: 25px;\r\n    margin: 5px 0 20px 0;*/\r\n    padding: 5px;\r\n    border: 1px solid #bdbdbd; \r\n    background-color: #f7f7f7;\r\n    color: #6e6e6e;\r\n    font-size: 16px;\r\n    max-width: 1250px;\r\n     \r\n  }\r\n\r\n  div.create-post input::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\r\n    color: rgb(192, 192, 192);\r\n    opacity: 1; /* Firefox */\r\n  }\r\n\r\n  div.create-post input:valid {\r\n    border: 1px solid rgb(30, 207, 30);\r\n  }\r\n\r\n  div.create-post input:invalid {\r\n    border: 2px solid red;\r\n  }\r\n\r\n  input[aria-invalid=\"true\"] {\r\n    border-color: red;\r\n  }\r\n\r\n  input[aria-invalid=\"false\"] {\r\n      border-color: green;\r\n  }\r\n\r\n    div.create-post textarea{\r\n  /*div.create-post {*/\r\n    /*float: left;*/\r\n    width: 95%;\r\n    height: 150px;\r\n    margin: 5px 0 20px 0;\r\n    padding:5px;\r\n    border: 1px solid #d9d9d9;\r\n    background-color: #f7f7f7;\r\n    color: #6e6e6e;\r\n    font-size: 16px;\r\n    max-width: 1250px;    \r\n  }\r\n\r\n  div.create-post date-picker{\r\n    width: 95%;\r\n    height: 150px;\r\n    margin: 5px 0 20px 0;\r\n    padding:5px;\r\n    border: 1px solid #ff8c8c;\r\n    background-color: #f7f7f7;\r\n    color: #6e6e6e;\r\n    font-size: 16px;\r\n     \r\n  }\r\n\r\n  /* Create a custom checkbox */\r\n  div.create-post .checkbox {\r\n    /*position: absolute;*/  \r\n    /*top: 0;\r\n    left: 0;*/\r\n    height: 15px;\r\n    width: 15px;\r\n    margin-left: 15px;\r\n    /*background-color: #eee;*/\r\n  }\r\n\r\n  /* Create a custom radio buttom */\r\n  div.create-post .radio{\r\n    /*position: absolute;*/  \r\n    /*top: 0;\r\n    left: 0;*/\r\n    height: 0px;\r\n    width: 25px;\r\n    margin-right: 25px;\r\n    /*background-color: #eee;*/\r\n  }\r\n\r\n\r\n  div.create-post textarea::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\r\n    color: rgb(192, 192, 192);\r\n    opacity: 1; /* Firefox */\r\n  }\r\n\r\n  div.create-post label {\r\n    color: #919191;\r\n    font-size: 18px;\r\n\r\n  }\r\n\r\n  div.container {\r\n    max-width: 100%;\r\n    margin: 0 ;\r\n    padding: 20px;\r\n    background-color:#f0f0f0;\r\n    \r\n  }\r\n\r\n  p.error {\r\n    border: 1px solid #ff5b5f;\r\n    background-color: #aaa5ee;\r\n    padding: 10px;\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n  .btn{\r\n    display: inline-block;\r\n    border: none;\r\n    background: #555;\r\n    color: #fff;\r\n    padding: 7px 20px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .btn:hover{\r\n    background: #666;\r\n  }\r\n\r\n  .barbtn{\r\n    font-size: 18px;\r\n    width: 100%;\r\n    height: 25px;\r\n    padding:10px;\r\n    display: inline-block;\r\n    border: none;\r\n    background: rgb(214, 133, 133);\r\n    color: #fff;\r\n    cursor: pointer;\r\n    max-width: 1240px;\r\n  }\r\n\r\n  .barbtn:hover{\r\n    background: rgb(190, 106, 106);\r\n  }\r\n\r\n\r\n  .subFields{\r\n    margin: 10px 0 10px 25px;\r\n  }\r\n\r\n  div.subFields label{\r\n    font-size: 16px;\r\n    color: #0a009b\r\n  }\r\n\r\n  .box {\r\n    float:left; \r\n    width:270px; \r\n    height:100%; \r\n    border: 2px solid #d9d9d9; \r\n    background-color:#fff; \r\n    padding:12px; \r\n    margin:5px 10px 10px 10px ;\r\n  }\r\n\r\n  .box01 {\r\n    margin-top:0px;\r\n  }\r\n\r\n  .box02 {\r\n    padding:5px; \r\n    width:95%;\r\n  }\r\n\r\n  .box03 {\r\n    padding:5px; \r\n    width:95%;\r\n    height:23px;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .box-title {\r\n    margin:30px 0 0 10px;\r\n    color: #919191;\r\n    font-size: 22px;\r\n  }\r\n\r\n  .box-comment{\r\n    clear:both;\r\n    float:left;  \r\n    height:100%; \r\n    border: 2px solid #d9d9d9; \r\n    background-color:#fff; \r\n    padding:12px; \r\n    margin:10px; \r\n    width:95%;\r\n    max-width: 1225px;\r\n    white-space: pre-line;\r\n  }\r\n\r\n\r\n/* Responsive layout - when the screen is less than 600px wide, make the two columns stack on top of each other instead of next to each other */\r\n@media screen and (max-width: 600px) {\r\n  .divTableHead, .divTableCell, .create-post input[type=submit] {\r\n    width: 100%;\r\n    margin-top: 0;\r\n  }\r\n}\r\n\r\n\r\n</style>\r\n"],"sourceRoot":"src/views"}]}